# Настройка dev-окружаения под windows.

## Инициализация окружения

Минимальные требования:

* Windows 7 SP1+ / Windows Server 2008+
* [PowerShell 5.1+](https://www.microsoft.com/en-us/download/details.aspx?id=54616)
* [.NET Framework 4.5+](https://www.microsoft.com/net/download)

Настраиваем локальную версию git (почитать подробнее о том, как это сделать, можно например [тут](https://habr.com/ru/post/125799)).

Скачиваем проект:

```
git clone https://github.com/GameDevBy/site.git gamedevby
```

Запускаем файл:
```
<путь куда вы скачали gamedevby>\windows\init.bat
```

Он скачивает все необходимое и настраивает проект.

Поитогу в корне проекта будет сгенерирован файл _.\init_env.bat_.
Данный файл необходимо запускать предварительно перед работой с приложением, он настраивает все пути.

Пример:
```
открыли консоль через вызов "cmd" или любым другим способом

cd <путь куда вы скачали gamedevby>
init_env.bat (после набора "in" можно нажать tab и остальное наберется через автоподстановку)

composer drupal:check
```

## Установки локальной версии JetBrains PhpStorm

Для установки локальной версии "JetBrains PhpStorm" преднастроеной для работы с проектом, запустите:
_(Устанавливается 30-дневная триальная версия.)_
```
<путь куда вы скачали gamedevby>\windows\install-idea.bat
```

Если в корне проекта есть папка ".idea", то при установке ее содержимое будет удалено и проинициализировано заново.

Для запуска PhpStorm выполните команду
```
<путь куда вы скачали gamedevby>\run_idea.bat
```

## Удаление окружения

Для удаления уже созданного окружения, запустите файл:
```
<путь куда вы скачали gamedevby>\windows\force-remove-env.bat
```

Если был установлен PhpStorm, то в процессе удаления окружения будет задан вопрос об удалении записей из реестра (выберите 'Y', если хотите удалить из реестра информацию об PhpStorm).

## Что делать в случае ошибок

Если при инциализации окружения произошел сбой (например, из-за обрыва связи), то удалите окружение и повторите инициализацию заново.

## Обновление

Команда "scoop update" на данный момент _не поддерживается!_ Для обновления окружения на более новые версии - удалите его и затем проинициализируйте заново.
